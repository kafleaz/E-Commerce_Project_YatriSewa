@using System.Collections

@model IEnumerable<YatriSewa_MVC.Models.Bus> 
<!-- Replace with the actual namespace of your Bus model -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" href="~/img/logo.png">
    <title>Bus Ticket Booking</title>
    <!-- Bootstrap core CSS -->
    <link href="~/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Icofont Icon-->
    <link href="~/vendor/icons/icofont.min.css" rel="stylesheet" type="text/css">
    <!-- Slick Slider -->
    <link rel="stylesheet" type="text/css" href="~/vendor/slick/slick.min.css" />
    <link rel="stylesheet" type="text/css" href="~/vendor/slick/slick-theme.min.css" />
    <!-- Custom styles for this template -->
    <link href="~/css/custom.css" rel="stylesheet">
    <!-- Sidebar CSS -->
    <link href="~/vendor/sidebar/demo.css" rel="stylesheet">
</head>
<body class="">
        <!-- Listing Page -->
        <div class="longcontainer">
            <div class="osahan-header-nav shadow-sm p-3 d-flex align-items-center bg-color">
                <h5 class="font-weight-normal mb-0 text-white">
                <a class="text-darkblue" href="@Url.Action("Home", "Yatri", new { userLoginId = ViewBag.UserLoginId })"><i class="icofont-rounded-left"></i></a>
                </h5>
                <div class="ml-auto d-flex align-items-center">
                    <a href="" class="text-white h6 mb-0"><i class="icofont-search-1"></i></a>
                    <a href="#" class="mx-4 text-white h6 mb-0" data-toggle="modal" data-target="#filterModal"><i class="icofont-filter"></i></a>
                    <a class="toggle osahan-toggle h4 m-0 text-white ml-auto" href="#"><i class="icofont-navigation-menu"></i></a>
                </div>
            </div>
            <div class=" p-0 m-0 row border-top">
                <div class="p-2 border-bottom w-100">
                    <div class="bg-white border border-warning rounded-1 shadow-sm p-2">
                        <div class="row mx-0 px-1">
                            <div class="col-6 p-0">
                                <small class="text-muted mb-1 f-10 pr-1">GOING FROM</small>
                                <p class="small mb-0">@ViewBag.From</p>
                            </div>
                            <div class="col-6 p-0">
                                <small class="text-muted mb-1 f-10 pr-1">GOING TO</small>
                                <p class="small mb-0">@ViewBag.To</p>
                            </div>
                            @* <div class="col-12 p-0">
                                <small class="text-muted mb-1 f-10 pr-1">DATE</small>
                                <p class="small mb-0">@ViewBag.Date.ToString("dd MMM yyyy")</p>
                            </div> *@
                        </div>
                    </div>
                </div>
                
                @foreach (var bus in Model)
                {

                    <a class="text-dark col-6 px-0" href="@Url.Action("Busdetails", new { busId = bus.BusId, from = ViewBag.From, to = ViewBag.To, date = ViewBag.Date, userLoginId = ViewBag.UserLoginId })"></a>

                <a class="text-dark col-6 px-0" href="@Url.Action("SelectSeat", "Yatri", new { busId = bus.BusId, from = ViewBag.From, to = ViewBag.To, date = ViewBag.Date, userLoginId = ViewBag.UserLoginId })">
                    @* <a href="@Url.Action("Busdetails")" class="text-dark col-6 px-0"> *@
                        <div class="list_item_gird m-0 bg-white shadow-sm listing-item border-bottom border-right">
                            <div class="px-3 pt-3 tic-div">
                                <div class="list-item-img">
                                    <img src="@bus.PhotoPath" class="img-fluid" alt="@bus.BusName">
                                </div>
                                <p class="mb-0 l-hght-10">@bus.BusName</p>
                                <span class="text-darkblue small">@bus.From to @bus.To</span>
                                <div class="start-rating small">
                                    <i class="icofont-star text-darkblue"></i>
                                    <i class="icofont-star text-darkblue"></i>
                                    <i class="icofont-star text-darkblue"></i>
                                    <i class="icofont-star text-darkblue"></i>
                                    <i class="icofont-star text-muted"></i>
                                    <span class="text-dark">4.0</span>
                                </div>
                            </div>
                            <div class="p-3 d-flex">
                                <div class="bus_details w-100">
                                    <div class="d-flex">
                                        @if (bus.Service.AC)
                                        {
                                            <p><i class="icofont-wind mr-2 text-darkblue"></i><span class="small">AC</span></p>
                                        }
                                        @if (bus.Service.Wifi)
                                        {
                                            <p class="ml-3"><i class="icofont-wifi mr-2 text-darkblue"></i><span class="small">WiFi</span></p>
                                        }

                                        <p class="small ml-auto"><i class="icofont-bus mr-2 text-darkblue"></i>2/1</p>
                                    </div>
                                    <div class="d-flex l-hght-10">
                                        <span class="icofont-clock-time small mr-2 text-darkblue"></span>
                                        <div>
                                            <small class="text-muted mb-2 d-block">Journey Start</small>
                                            <p class="small">@bus.Date.ToString("ddMMM"),  @(DateTime.Today.Add(bus.Time).ToString("hh:mm tt"))</p>
                                        </div>
                                    </div>
                                    <div class="d-flex l-hght-10">
                                        <span class="icofont-google-map small mr-2 text-darkblue"></span>
                                        <div>
                                            <small class="text-muted mb-2 d-block">From - To</small>
                                            <p class="small mb-1">@bus.From to @bus.To</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                }
            </div>
        </div>

    <!-- Bootstrap core JavaScript -->
    <script src="~/vendor/jquery/jquery.min.js"></script>
    <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- slick Slider JS-->
    <script type="text/javascript" src="~/vendor/slick/slick.min.js"></script>
    <!-- Sidebar JS-->
    <script type="text/javascript" src="~/vendor/sidebar/hc-offcanvas-nav.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="~/js/osahan.js"></script>
</body>
</html>
